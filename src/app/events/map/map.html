
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

<div class="map-container">
  <!-- Controles superiores -->
  <div class="map-controls">
    <button
      type="button"
      (click)="getLocation()"
      class="btn-location"
      [attr.aria-label]="mode === 'select' ? 'Usar mi ubicaci贸n' : 'Mostrar mi ubicaci贸n'">
       {{ mode === 'select' ? 'Usar mi ubicaci贸n' : 'Mi ubicaci贸n' }}
    </button>

    @if (mode === 'select' && selectedLocation()) {
      <div class="selected-coords">
        <span class="coords-label">Coordenadas:</span>
        <span class="coords-value">
          {{ selectedLocation()!.lat.toFixed(6) }}, {{ selectedLocation()!.lng.toFixed(6) }}
        </span>
      </div>
    }
  </div>

  <!-- Mapa -->
  <div [id]="containerId" class="leaflet-map"></div>

  <!-- Instrucciones para modo selecci贸n -->
  @if (mode === 'select') {
    <div class="map-instructions">
      <p> <strong>Haz clic en el mapa</strong> para seleccionar la ubicaci贸n del evento</p>
      <p> Puedes arrastrar el marcador para ajustar la posici贸n</p>
    </div>
  }
</div>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
